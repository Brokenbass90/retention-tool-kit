(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(40)},22:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(11),c=n.n(a),l=(n(22),n(12)),s=n.n(l);n(30),n(31);var i=e=>{let{html:t,setHtml:n}=e;return o.a.createElement("div",{className:"pdf-maker"},o.a.createElement(s.a,{mode:"html",theme:"monokai",onChange:e=>{n(e)},name:"UNIQUE_ID_OF_DIV",value:t,editorProps:{$blockScrolling:!0},setOptions:{useWorker:!1},width:"100%",height:"100%"}))};n(32);var m=e=>{let{htmlContent:t}=e;return o.a.createElement("div",{className:"preview-container"},o.a.createElement("iframe",{srcDoc:t,title:"HTML Preview"}))};n(33);var d=e=>{let{html:t}=e;const[n,a]=Object(r.useState)(!1);return o.a.createElement("button",{className:"convert-button",onClick:async()=>{a(!0);try{const n=await fetch("/generate-pdf",{method:"POST",headers:{"Content-Type":"text/html"},body:t});if(n.ok){const e=await n.blob(),t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="converted-document.pdf",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)}else console.error("Server responded with an error.")}catch(e){console.error("An error occurred:",e)}finally{a(!1)}},disabled:n},n?"Converting...":"Convert to PDF")},u=n(13),h=n.n(u),b=n(14);n(38);var f=e=>{let{onClose:t,isVisible:n}=e;const[a,c]=Object(r.useState)("Choose Folder"),[l,s]=Object(r.useState)(!1),i=Object(r.useRef)(null),m=e=>{if(e.length>0){const t=e[0].webkitRelativePath.split("/")[0];return c(t),e}return[]},d=(e,n)=>{!l&&e.length>0&&(s(!0),((e,t)=>new Promise((n,r)=>{if(0===e.length)return void r(new Error("No files selected"));const o=prompt("Enter a name for the JSON files:",t)||t,a=o.replace(/-out$/,"")+"-out",c=new h.a,l=Array.from(e).map(e=>new Promise((t,n)=>{const r=new FileReader;r.onload=function(r){try{var l;const i=null===(l=r.target.result.match(/\{\{(.+?)\}\}/g))||void 0===l?void 0:l.reduce((e,t,n)=>{const r="block_".concat(String(n).padStart(2,"0"));let o=t.replace(/\{\{|\}\}/g,"").trim();return o=o.replace(/@@(.*?)@@/g,"<b>$1</b>"),e[r]=o,e},{}),m=e.name.match(/_(\w{2})_\w{2}_/),d=m?m[1]:"unknown",u=JSON.stringify(null!==i&&void 0!==i?i:{},null,4);c.folder("".concat(a,"/").concat(d)).file("".concat(o,".json"),u),t()}catch(s){n(new Error("Failed to process file ".concat(e.name,": ").concat(s.message)))}},r.onerror=(()=>{n(new Error("Failed to read file ".concat(e.name)))}),r.readAsText(e)}));Promise.all(l).then(()=>{c.generateAsync({type:"blob"}).then(e=>{Object(b.saveAs)(e,"".concat(a,".zip")),n()}).catch(e=>{r(new Error("Failed to generate zip: ".concat(e.message)))})}).catch(r)}))(e,n).then(()=>{s(!1),t()}).catch(e=>{console.error("Conversion error:",e),s(!1)}))};return o.a.createElement("div",{className:"txt-to-json-panel ".concat(n?"visible":"")},o.a.createElement("button",{className:"close-btn",onClick:t},"\xd7"),o.a.createElement("div",{className:"drop-zone",onClick:()=>i.current.click(),onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();const t=e.dataTransfer.items;if(t){const e=[];for(let n=0;n<t.length;n++)if(t[n].webkitGetAsEntry&&t[n].webkitGetAsEntry().isDirectory){t[n].webkitGetAsEntry().createReader().readEntries(t=>{t.forEach(n=>{n.file(n=>{if(e.push(n),e.length===t.length){const t=m(e);d(t,a)}})})});break}}}},a,o.a.createElement("input",{type:"file",ref:i,webkitdirectory:"true",directory:"true",multiple:!0,onChange:e=>{const t=m(e.target.files);t.length>0&&d(t,a)},style:{display:"none"}})),o.a.createElement("button",{className:"convert-button",onClick:()=>d(i.current.files,a),disabled:l},l?"Converting...":"Convert"))};n(39);var p=()=>{const[e,t]=Object(r.useState)(""),[n,a]=Object(r.useState)(!1);return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"content-area"},o.a.createElement(i,{html:e,setHtml:t}),o.a.createElement(m,{htmlContent:e})),o.a.createElement("div",{className:"buttons-area"},o.a.createElement(d,{html:e}),o.a.createElement("button",{className:"convert-button txt-to-json-toggle",onClick:()=>a(!n)},n?"Close Txt to JSON":"Txt to JSON")),o.a.createElement(f,{onClose:()=>a(!1),isVisible:n}))};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(p,null)))}},[[15,1,2]]]);
//# sourceMappingURL=main.f8ebd151.chunk.js.map